// Minified Syntra Studio interactions
(function(){const n=[...document.querySelectorAll("a[data-nav]")];document.addEventListener("click",t=>{const e=t.target.closest('a[href^="#"]');if(!e)return;const r=e.getAttribute("href").slice(1),o=document.getElementById(r);o&&(t.preventDefault(),o.scrollIntoView({behavior:"smooth",block:"start"}))});const t=n.map(n=>document.getElementById(n.getAttribute("href").replace("#",""))).filter(Boolean),e=e=>{n.forEach(n=>{const t=n.getAttribute("href")===`#${e}`;n.classList.toggle("active",t),t?n.setAttribute("aria-current","true"):n.removeAttribute("aria-current")})},r=()=>{const n=120;let r=t[0]?.id;for(const o of t){const t=o.getBoundingClientRect();t.top-n<=0&&(r=o.id)}r&&e(r)};document.addEventListener("scroll",r,{passive:!0}),window.addEventListener("load",r);const o=document.querySelector("[data-slider]"),a=document.querySelector("[data-dots]");if(o&&a){const n=[...o.children];let t=0;n.forEach((n,e)=>{const r=document.createElement("button");r.setAttribute("aria-label",`Go to slide ${e+1}`),r.addEventListener("click",()=>l(e)),a.appendChild(r)});const e=[...a.children],l=r=>{t=(r+n.length)%n.length,s()},s=()=>{o.style.transform=`translateX(-${100*t}%)`,e.forEach((n,e)=>n.classList.toggle("active",e===t))};s();let c=setInterval(()=>l(t+1),6e3);o.addEventListener("pointerdown",()=>{clearInterval(c),c=null},{once:!0});let i=null;o.addEventListener("touchstart",n=>{i=n.touches[0].clientX}),o.addEventListener("touchend",n=>{if(null==i)return;const e=n.changedTouches[0].clientX-i;Math.abs(e)>50&&l(t+(e<0?1:-1)),i=null})}const c=document.querySelectorAll("form[data-formspree]");c.forEach(n=>{const t=n.querySelector(".form-feedback"),e=n.querySelectorAll(".input, .textarea"),r=n.querySelector('button[type="submit"]'),o=(n,e)=>{t&&(t.classList.remove("success","error"),t.textContent="",n&&e&&(t.classList.add(n),t.textContent=e))},a=()=>{let n=!0;return e.forEach(t=>{t.checkValidity()?t.removeAttribute("aria-invalid"):(t.setAttribute("aria-invalid","true"),n=!1)}),n};n.addEventListener("submit",async e=>{if(e.preventDefault(),o(),!a())return void o("error","Please complete all required fields before submitting.");const c=new FormData(n);r&&r.setAttribute("disabled","true");try{const t=await fetch(n.action,{method:"POST",headers:{Accept:"application/json"},body:c});if(t.ok)n.reset(),o("success","Thank you for reaching out! We’ll get back to you within 24 hours.");else throw new Error(`Request failed with status ${t.status}`)}catch(n){console.error("Form submission error:",n),o("error","Something went wrong – please try again or email hello@syntrastudio.com.")}finally{r&&r.removeAttribute("disabled")}})})})();
